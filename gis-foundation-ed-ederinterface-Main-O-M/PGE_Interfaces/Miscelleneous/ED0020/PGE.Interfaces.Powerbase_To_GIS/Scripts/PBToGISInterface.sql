
--DROP TABLE PB_GIS_UPDATES;
--DROP TABLE PB_GIS_UPDATES_ARCHIVE;
--DROP TABLE PB_SESSION_STATUS;
--DROP TABLE PB_SESSION_STATUS_ARCHIVE;
--DROP TABLE PB_GIS_REJECTED_RECORDS;

CREATE TABLE PB_GIS_UPDATES
(
	GLOBALID		CHAR(38),
	FEATURECLASS		VARCHAR2(100),		
	SUPERVISORYCONTROL	VARCHAR2(100),
  	SWITCHMODEIDC VARCHAR2(100),
  	OPERATINGAS VARCHAR2(100),
  	MULTIFUNCTIONALIDC VARCHAR2(100),
  	DEVICETYPE VARCHAR2(100),
  	FLISRAUTOMATIONDEVICEIDC VARCHAR2(100),
  	CONTROLLERSERIALNUMBER VARCHAR2(100),
  	CONTROLLERTYPE VARCHAR2(100),
	PARENTDEVICEGUID CHAR(38),
  	OPERATINGNUMBER	VARCHAR2(100),	
	PB_RLID  NUMBER(38),
	LAST_MODIFIED		DATE,
	RECORD_STATUS		VARCHAR2(100),
	COMMENTS		VARCHAR2(1000)
);


CREATE TABLE PB_GIS_UPDATES_ARCHIVE
(
	GLOBALID			CHAR(38),
	FEATURECLASS		VARCHAR2(100),		
	SUPERVISORYCONTROL	VARCHAR2(100),
  	SWITCHMODEIDC VARCHAR2(100),
  	OPERATINGAS VARCHAR2(100),
  	MULTIFUNCTIONALIDC VARCHAR2(100),
  	DEVICETYPE VARCHAR2(100),
  	FLISRAUTOMATIONDEVICEIDC VARCHAR2(100),
  	CONTROLLERSERIALNUMBER VARCHAR2(100),
  	CONTROLLERTYPE VARCHAR2(100),
	PARENTDEVICEGUID CHAR(38),
  	OPERATINGNUMBER	VARCHAR2(100),
	PB_RLID  NUMBER(38),	
	LAST_MODIFIED		DATE,
	RECORD_STATUS		VARCHAR2(100),
	COMMENTS		VARCHAR2(1000)
);


CREATE TABLE PB_SESSION_STATUS
   (	
        SESSION_NAME VARCHAR2(100), 
	PROCESSED_ON DATE, 
	STATUS VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
  NOCOMPRESS LOGGING
  STORAGE(INITIAL 262144 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PGEDATA ;


CREATE TABLE PB_SESSION_STATUS_ARCHIVE
   (	
        SESSION_NAME VARCHAR2(100), 
	PROCESSED_ON DATE, 
	STATUS VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
  NOCOMPRESS LOGGING
  STORAGE(INITIAL 262144 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PGEDATA ;


CREATE TABLE PB_GIS_REJECTED_RECORDS
(
   	BATCHID			NUMBER,
    	FEATURECLASS		VARCHAR2(100),		
    	GLOBALID			CHAR(38),
	OPERATINGNUMBER	VARCHAR2(100),
	PB_RLID  NUMBER(38),	
  	ATTRIBUTENAME VARCHAR2(100),
  	ATTRIBUTEVALUE VARCHAR2(100),  	
  	COMMENTS VARCHAR2(200),
	DATETIME DATE
);


GRANT SELECT,INSERT ON PGEDATA.PB_GIS_UPDATES TO EI_PB_Role;
